# Step 14: Admin Mode 구현 계획

| 항목 | 내용 |
|------|------|
| **프로젝트** | DocLight |
| **기능** | Admin Mode (관리자 모드) |
| **입력 문서** | [plan.step14.md](../plan.step14.md) |
| **작성일** | 2026-01-06 |
| **상태** | 계획 완료 |

---

## 목차

### 기반 문서

| 문서 | 설명 | 상태 |
|------|------|------|
| [00-1.architecture.md](00-1.architecture.md) | 아키텍처 설계 | ✅ 완료 |
| [00-2.tech-decisions.md](00-2.tech-decisions.md) | 기술 결정 기록 (ADR) | ✅ 완료 |

### Phase 문서

| Phase | 문서 | 설명 | 예상 시간 | 상태 |
|-------|------|------|----------|------|
| 1 | [01.phase-1-config.md](01.phase-1-config.md) | 설정 확장 및 세션 서비스 | 7시간 | ⬜ 대기 |
| 2 | [02.phase-2-auth-api.md](02.phase-2-auth-api.md) | 인증 API 구현 | 6시간 | ⬜ 대기 |
| 3 | [03.phase-3-admin-api.md](03.phase-3-admin-api.md) | 관리자 API 구현 | 13시간 | ⬜ 대기 |
| 4 | [04.phase-4-frontend-base.md](04.phase-4-frontend-base.md) | 프론트엔드 기본 구조 | 11시간 | ⬜ 대기 |
| 5 | [05.phase-5-file-management.md](05.phase-5-file-management.md) | 파일 관리 기능 | 13시간 | ⬜ 대기 |
| 6 | [06.phase-6-editor.md](06.phase-6-editor.md) | 편집 기능 | 12시간 | ⬜ 대기 |
| 7 | [07.phase-7-dnd-polish.md](07.phase-7-dnd-polish.md) | 드래그앤드롭 및 마무리 | 10시간 | ⬜ 대기 |

### 검증 문서

| 문서 | 설명 | 상태 |
|------|------|------|
| [verification/phase-1-verification.md](verification/phase-1-verification.md) | Phase 1 검증 결과 | ⬜ 대기 |
| [verification/phase-2-verification.md](verification/phase-2-verification.md) | Phase 2 검증 결과 | ⬜ 대기 |
| [verification/phase-3-verification.md](verification/phase-3-verification.md) | Phase 3 검증 결과 | ⬜ 대기 |
| [verification/phase-4-verification.md](verification/phase-4-verification.md) | Phase 4 검증 결과 | ⬜ 대기 |
| [verification/phase-5-verification.md](verification/phase-5-verification.md) | Phase 5 검증 결과 | ⬜ 대기 |
| [verification/phase-6-verification.md](verification/phase-6-verification.md) | Phase 6 검증 결과 | ⬜ 대기 |
| [verification/phase-7-verification.md](verification/phase-7-verification.md) | Phase 7 검증 결과 | ⬜ 대기 |

### 통합 및 최종 검증

| 문서 | 설명 | 상태 |
|------|------|------|
| [integration-test-guide.md](integration-test-guide.md) | 통합 테스트 가이드 | ⬜ 대기 |
| [final-validation.md](final-validation.md) | 최종 검증 보고서 | ⬜ 대기 |

---

## 요구사항 요약

### 기능 요구사항 (plan.step14.md에서 추출)

| ID | 카테고리 | 요구사항 | Phase |
|----|----------|----------|-------|
| REQ-AUTH-001 | 인증 | 다중 API 키 지원 | 1 |
| REQ-AUTH-002 | 인증 | API 키 인증 | 2 |
| REQ-AUTH-003 | 인증 | 세션 만료 처리 | 1, 2 |
| REQ-AUTH-004 | 인증 | 권한 기반 접근 제어 | 2 |
| REQ-AUTH-005 | 인증 | 로그아웃 기능 | 2 |
| REQ-TREE-001 | 트리 | 모든 파일 타입 표시 | 3 |
| REQ-TREE-002 | 트리 | 파일 타입별 아이콘 | 4 |
| REQ-TREE-003 | 트리 | 파일 메타정보 표시 | 3, 4 |
| REQ-SEL-001~004 | 선택 | 단일/다중 선택 | 5 |
| REQ-CTX-001~006 | 메뉴 | 컨텍스트 메뉴 | 5 |
| REQ-EDIT-001~006 | 편집 | 파일 편집 기능 | 6 |
| REQ-FILE-001~005 | 파일 | 파일 조작 | 5 |
| REQ-DND-001~005 | DnD | 드래그앤드롭 | 7 |
| REQ-URL-001~003 | URL | URL 라우팅 | 4 |

### 비기능 요구사항

| ID | 항목 | 요구사항 | Phase |
|----|------|----------|-------|
| NFR-PERF-001 | 성능 | API 응답 500ms 이내 | 전체 |
| NFR-PERF-002 | 성능 | 트리 로드 2초 이내 | 3, 4 |
| NFR-SEC-001 | 보안 | 세션 토큰 crypto.randomBytes | 1 |
| NFR-SEC-002 | 보안 | 경로 검증 | 3 |
| NFR-SEC-003 | 보안 | XSS 방지 | 4 |
| NFR-COMPAT-001 | 호환 | 브라우저 지원 | 4 |
| NFR-COMPAT-002 | 호환 | 기존 apiKey 지원 | 1 |

---

## Phase 의존성 그래프

```
Phase 1: 설정 확장
    │
    ▼
Phase 2: 인증 API
    │
    ├──────────────┐
    ▼              ▼
Phase 3:        Phase 4:
관리자 API      프론트엔드 기본
    │              │
    └──────┬───────┘
           ▼
        Phase 5:
        파일 관리
           │
           ▼
        Phase 6:
        편집 기능
           │
           ▼
        Phase 7:
        드래그앤드롭
```

---

## 총 예상 시간

| Phase | 시간 |
|-------|------|
| Phase 1: 설정 확장 | 7시간 |
| Phase 2: 인증 API | 6시간 |
| Phase 3: 관리자 API | 13시간 |
| Phase 4: 프론트엔드 기본 | 11시간 |
| Phase 5: 파일 관리 | 13시간 |
| Phase 6: 편집 기능 | 12시간 |
| Phase 7: 드래그앤드롭 | 10시간 |
| **합계** | **72시간** |

---

## 실행 가이드

### Phase 실행 순서

1. **Phase 1** 완료 후 → Phase 1 검증
2. **Phase 2** 완료 후 → Phase 2 검증
3. **Phase 3, 4** 병렬 실행 가능 → 각각 검증
4. **Phase 5** (3, 4 완료 후) → Phase 5 검증
5. **Phase 6** (5 완료 후) → Phase 6 검증
6. **Phase 7** (6 완료 후) → Phase 7 검증
7. **통합 테스트** 실행
8. **최종 검증** 보고서 작성

### 검증 기준

각 Phase 완료 시 아래 기준 충족 필수:

1. 모든 구현 항목 체크리스트 완료
2. 단위 테스트 100% 통과
3. 회귀테스트 통과
4. 7가지 품질 기준 모두 A+

### 품질 기준 (7가지)

| # | 기준 | 설명 |
|---|------|------|
| 1 | Plan-Code 정합성 | 계획 항목과 코드 1:1 매핑 |
| 2 | SOLID 원칙 | 단일 책임, 개방-폐쇄 등 |
| 3 | 테스트 커버리지 | 주요 로직 80% 이상 |
| 4 | 코드 가독성 | 네이밍, 구조, 주석 |
| 5 | 에러 처리 | 예외 처리 완전성 |
| 6 | 문서화 | JSDoc, README |
| 7 | 성능 고려 | 시간/공간 복잡도 |

---

## 참조 문서

- [plan.step14.md](../plan.step14.md) - 원본 스펙 문서
- [CLAUDE.md](../../../CLAUDE.md) - 프로젝트 코딩 가이드라인
- [docs/api/api.md](../../api/api.md) - 기존 API 문서

---

*구현 계획 목차 문서 끝*
