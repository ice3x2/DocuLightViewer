# DocLight Step 19 구현 계획 — 목차

## 개요

DocLight Electron Markdown 뷰어에 병렬 알람·보고 환경 지원을 위한 7개 신규 기능을 추가하는 증분 확장 계획.
SRS: `docs/plan/srs.step19.md`

## 범위

| 기능 | 관련 FR | 난이도 | Phase |
|------|---------|--------|-------|
| Named Window (이름 기반 창 관리) | FR-19-001 | 낮음 | 1 |
| Severity 테마 (창 상단 색상 바) | FR-19-003 | 낮음 | 1 |
| Taskbar 플래시 | FR-19-006 | 낮음 | 2 |
| Progress Bar | FR-19-007 | 낮음 | 2 |
| Window 태그 | FR-19-005 | 중간 | 3 |
| Auto-close 타이머 | FR-19-004 | 중간 | 4 |
| Append 모드 | FR-19-002 | 중간 | 5 |

## 문서 목록

### 설계
- [00-1. Architecture](./00-1.architecture.md) — 시스템 아키텍처, 모듈 구조, 데이터 흐름
- [00-2. Tech Decisions](./00-2.tech-decisions.md) — 기술 결정 기록 (ADR)

### Phase 문서
- [Phase 1: Named Window + Severity 테마](./01.phase-1-named-window-severity.md) — FR-19-001, FR-19-003
- [Phase 2: Taskbar 플래시 + Progress Bar](./02.phase-2-flash-progress.md) — FR-19-006, FR-19-007
- [Phase 3: Window 태그](./03.phase-3-window-tags.md) — FR-19-005
- [Phase 4: Auto-close 타이머](./04.phase-4-auto-close.md) — FR-19-004
- [Phase 5: Append 모드](./05.phase-5-append-mode.md) — FR-19-002
- [Phase 6: 통합 및 마무리](./06.phase-6-integration.md) — 기능 간 검증, CLAUDE.md 갱신

### 검증
- [Phase 1 검증](./verification/phase-1-verification.md)
- [Phase 2 검증](./verification/phase-2-verification.md)
- [Phase 3 검증](./verification/phase-3-verification.md)
- [Phase 4 검증](./verification/phase-4-verification.md)
- [Phase 5 검증](./verification/phase-5-verification.md)
- [Phase 6 검증](./verification/phase-6-verification.md)
- [통합 테스트 가이드](./integration-test-guide.md)
- [최종 검증 보고서](./final-validation.md)

## 의존성 그래프

```
Phase 1 (Named Window + Severity)
   │
   ├──▶ Phase 2 (Flash + Progress Bar)   ← Phase 1과 독립적, 병렬 가능
   │
   ▼
Phase 3 (Window Tags)
   │
   ▼
Phase 4 (Auto-close)
   │
   ▼
Phase 5 (Append Mode)
   │
   ▼
Phase 6 (통합)
```

- Phase 1은 WindowManager의 `nameToId` Map 도입 — 다른 Phase의 기반
- Phase 2(Flash + Progress)는 Phase 1과 무관한 독립 Electron API 래핑 — Phase 1 병렬 진행 가능
- Phase 3(Window Tags)는 Phase 1 완료 후 (WindowEntry.meta 확장 의존)
- Phase 4(Auto-close)는 Phase 3 이후 (meta 패턴 확립 후)
- Phase 5(Append)는 Phase 4 이후 (lastRenderedContent 상태 관리, 가장 복잡)
- Phase 6는 모든 Phase 완료 후 통합 검증

## 수정 파일 요약

| 파일 | Phase | 변경 유형 |
|------|-------|----------|
| `src/main/window-manager.js` | 1,2,3,4,5 | `nameToId` Map, severity/flash/progress/tags/autoClose/append 처리 |
| `src/main/index.js` | 1,2,3,4,5 | IPC 핸들러 파라미터 확장 |
| `src/main/mcp-http.mjs` | 1,2,3,4,5 | TOOLS 스키마 업데이트, 핸들러 파라미터 추가 |
| `src/main/mcp-server.mjs` | 1,2,3,4,5 | Zod 스키마 업데이트 |
| `src/renderer/viewer.js` | 1,4 | `set-severity`, `auto-close-start` IPC 이벤트 처리 |
| `src/renderer/viewer.css` | 1,4 | severity 색상 바, 카운트다운 상태 바 스타일 |
| `src/locales/*.json` (4개) | 4 | `viewer.autoCloseLabel` i18n 키 추가 |
| `CLAUDE.md` | 6 | MCP Tools 표, WindowEntry.meta 필드 업데이트 |
