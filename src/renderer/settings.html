<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'">
  <title>DocuLight Settings</title>
  <link rel="stylesheet" href="./settings.css">
</head>
<body>
  <div id="settings-container">
    <h1 data-i18n="settings.heading">Settings</h1>

    <form id="settings-form">
      <div class="form-group">
        <label for="theme-select" data-i18n="settings.theme">Theme</label>
        <select id="theme-select">
          <option value="light">Light</option>
          <option value="dark">Dark</option>
        </select>
      </div>

      <div class="form-group">
        <label for="fontSize-input" data-i18n="settings.fontSize">Font Size (px)</label>
        <input type="number" id="fontSize-input" min="8" max="32" value="16">
      </div>

      <div class="form-group">
        <label for="fontFamily-input" data-i18n="settings.fontFamily">Font Family</label>
        <input type="text" id="fontFamily-input" value="system-ui, -apple-system, sans-serif">
      </div>

      <div class="form-group">
        <label for="codeTheme-select" data-i18n="settings.codeTheme">Code Theme</label>
        <select id="codeTheme-select">
          <option value="github">GitHub</option>
          <option value="monokai">Monokai</option>
          <option value="dracula">Dracula</option>
        </select>
      </div>

      <div class="form-group">
        <label for="mcpPort-input" data-i18n="settings.mcpPort">MCP Server Port</label>
        <input type="number" id="mcpPort-input" min="1024" max="65535" value="52580">
        <small class="hint" data-i18n="settings.mcpPortHint">Requires app restart after change</small>
      </div>

      <div class="form-group">
        <label for="defaultWindowSize-select" data-i18n="settings.defaultWindowSize">Default Window Size</label>
        <select id="defaultWindowSize-select">
          <option value="auto" data-i18n="settings.windowSizeAuto">Auto (remember last size)</option>
          <option value="s" data-i18n="settings.windowSizeSmall">Small</option>
          <option value="m" data-i18n="settings.windowSizeMedium">Medium</option>
          <option value="l" data-i18n="settings.windowSizeLarge">Large</option>
          <option value="f" data-i18n="settings.windowSizeFull">Full Screen</option>
        </select>
      </div>

      <div class="section-divider"></div>
      <div class="form-group">
        <label class="section-label" data-i18n="settings.fileAssociation">File Association</label>
        <div class="checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="fileAssociation-checkbox">
            <span data-i18n="settings.fileAssocCheckbox">Register as default app for .md files</span>
          </label>
          <small class="hint" id="file-assoc-hint"></small>
          <div id="file-assoc-status" class="status-indicator hidden"></div>
        </div>
        <button type="button" id="open-default-apps-btn" class="link-button hidden" data-i18n="settings.openDefaultApps">
          Open system default apps settings
        </button>
      </div>

      <div class="button-group">
        <button type="button" id="reset-button" data-i18n="settings.resetButton">Reset to Defaults</button>
        <button type="button" id="save-button" data-i18n="settings.saveButton">Save</button>
      </div>

      <div id="save-message" class="hidden" data-i18n="settings.savedMessage">Settings saved</div>
    </form>
  </div>

  <script src="./settings.js"></script>
</body>
</html>
